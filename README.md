# 恋爱关系价值评估模型 (RVCUM) - Python GUI 应用

## 项目简介

本项目是一个基于多学科理论构建的恋爱关系价值评估模型 (Relational Viability Comprehensive Utility Model, RVCUM) 的 Python GUI 实现。它旨在通过结构化的问卷收集用户对其恋爱关系的各个方面的感知数据，然后运用一个复杂的经济学模型（基于净现值 NPV 的概念）来量化评估这段关系对用户而言是否“值得持续”。

与传统的心理学或简单的成本效益分析不同，RVCUM 模型整合了来自社会学、人类学、生物学/医学、政治学、哲学、法学、传播学、历史学、地理学、生态学、信息论/系统论以及经济学和心理学等多个学科的视角，力求提供一个更全面、更深入的评估框架。

本应用提供了一个图形界面，方便用户填写问卷，并自动进行复杂的计算，最终输出包含量化结果和自然语言解读的评估报告。

## 功能特性

*   **多学科问卷界面**: 提供一个分章节的 GUI 界面，涵盖心理学、经济学等十余个学科维度的关系评估问题。
*   **复杂模型计算**: 基于用户输入的问卷数据，执行 RVCUM 模型的 NPV 计算。
*   **多维度变量考量**: 模型计算中纳入了：
    *   各学科维度的加权效用与成本。
    *   用户对未来的预期（乐观/悲观）及其对未来效用/成本增长率的影响。
    *   关系建立的初始动机（如吸引力、替代方案缺乏）。
    *   年龄差异带来的潜在成本。
    *   生理吸引力差距、同情心等特定因素的直接成本或调整。
    *   跨学科变量之间的互动效应（例如，良好沟通对冲突解决的增强）。
    *   已投入的转换成本 (I₀) 及其对决策的重要性，并进行合理封顶。
    *   最佳替代方案 (BATNA-R) 的质量及其可实现性信心。
*   **净现值 (NPV) 对比**: 计算当前关系和最佳替代方案的 NPV，并进行比较。
*   **自然语言解读**: 将复杂的计算结果转化为易于理解的自然语言评估报告，分析关系的优势、劣势、关键影响因素，并提供行动建议。
*   **详细计算日志**: 提供透明的计算过程日志，方便用户理解模型如何得出结论。
*   **数据保存与加载**: 支持将用户的问卷答案保存到本地文件，并在需要时重新加载。

## 安装与运行

1.  **安装 Python**: 确保您的系统安装了 Python 3.6 或更高版本。您可以从 [Python 官方网站](https://www.python.org/downloads/) 下载安装。
2.  **下载代码**: 将项目代码文件（例如 `rvcum_app.py`）下载到您的本地计算机。
3.  **运行应用**: 打开终端或命令提示符，导航到代码文件所在的目录，然后运行以下命令：

    ```bash
    python rvcum_app.py
    ```
    （请将 `rvcum_app.py` 替换为您实际保存的文件名）

4.  **依赖**: 本项目仅使用了 Python 标准库中的 `tkinter`, `json`, `math` 和 `traceback`，无需额外安装第三方库。

## 使用说明

1.  运行程序后，将出现一个图形界面窗口。
2.  界面顶部是不同的标签页，每个标签页对应问卷的一个部分（如“基本信息”、“心理学因素”等）。
3.  请按顺序或自由选择标签页，诚实、准确地回答每个问题。对于量表题，拖动滑块选择分数；对于选择题，点击选项；对于文本题，输入相应信息。
4.  在“各因素重要性权重分配”标签页，请根据您认为各学科因素对您个人而言的重要性进行打分。
5.  填写完所有问题后，点击最后一个标签页右下角的“完成并评估”按钮。
6.  程序将进行计算，并在新的窗口中显示评估结果和详细解读。
7.  您可以通过菜单栏的“文件”->“保存答案”将当前填写的问卷数据保存为 `.rvcum_json` 文件，以便下次加载。
8.  通过“文件”->“加载答案”可以读取之前保存的问卷数据。

## 模型概述 (RVCUM)

RVCUM 模型的核心思想是将一段恋爱关系视为一个长期项目，其价值在于未来能带来的**净效用流 (Utility - Cost)** 的总和，并用经济学中的**净现值 (NPV)** 方法进行评估。

`NPV_关系 = Σ [ (预期效用_t - 预期成本_t) / (1 + 贴现率)^t ] + 转换成本效益`

模型计算的关键组成部分：

*   **效用与成本**: 问卷中的每个问题都被视为对关系在某个特定维度（属于某个学科）的效用或成本的衡量。积极陈述的得分贡献效用，消极陈述的得分贡献成本。
*   **学科加权**: 用户在“权重分配”部分设定的权重，用于衡量不同学科维度对整体效用和成本的重要性。
*   **转换成本效益 (I₀)**: 基于用户对“投入”和“生活交织”的评分计算，代表维持关系避免的离开成本。这部分价值被加到关系的总 NPV 中。
*   **未来预期**: 用户对未来乐观度、益处增长、成本降低的预期，用于调整未来年份的效用和成本预测。
*   **贴现率**: 基于用户对长期/短期偏好的评分估算，用于折算未来价值到当前。
*   **特殊调整项**: 模型包含了一些特定的调整，例如基于年龄差异、初始动机、生理吸引力差距等因素，对当前或未来的效用/成本进行修正。
*   **互动项**: 尝试捕捉不同因素之间的相互影响（例如，良好沟通增强冲突解决的效果）。
*   **最佳替代方案 (BATNA-R)**: 根据用户对替代方案的评价和找到替代方案的信心进行估算，其 NPV 与当前关系的 NPV 进行比较，是决策建议的关键依据。

最终的决策建议是基于 `NPV_关系` 与 `NPV_BATNA-R` 的对比。

## 结果解读

评估结果窗口包含两部分：

1.  **恋爱关系价值评估解读**: 这是模型生成的自然语言报告。它会总结核心 NPV 数字，分析转换成本的影响，解读您对未来的预期和 BATNA 情况，列出关系在各学科维度的优势和劣势，并根据您的具体情况（如吸引力差距、年龄差异）提供个性化的行动建议。请仔细阅读这部分，它提供了比数字更丰富的洞察。
2.  **详细计算过程**: 这部分是模型计算的原始日志。它记录了模型如何处理您的输入、计算中间值（如转换后的分数、加权得分、年度效用/成本、贴现过程等）。如果您对模型的具体工作方式感兴趣，或者需要进行调试，可以参考这部分。

**请务必记住，模型的结果是基于您的主观输入和预设的算法及参数。它是一个辅助思考工具，最终的决定应由您结合自身的真实感受、价值观和实际情况来做出。**

## 未来改进方向

本项目仍有许多可以改进和扩展的地方：

*   **模型参数校准**: 模型中的各种缩放因子、权重、阈值目前是基于理论和经验设定的，可以通过收集更多数据或专家反馈进行更精确的校准。
*   **更复杂的函数形式**: `g_k` 函数可以将李克特量表评分映射到效用/成本，可以探索非线性、阈值效应等更复杂的函数形式。
*   **更丰富的互动项**: 识别和实现更多有理论依据的跨学科变量互动。
*   **动态模型**: 允许用户输入关系随时间的变化（例如，沟通改善了，财务变好了），进行更精细的动态预测。
*   **更强大的 GUI 库**: 考虑使用 PyQt 或 PySide 等更成熟的 GUI 库，以提供更流畅和美观的用户体验，尤其对于长问卷。
*   **数据可视化**: 将评估结果（如各学科得分、NPV随时间变化）进行可视化展示。
*   **用户数据管理**: 实现用户账户系统和数据存储（如使用数据库），方便长期跟踪和分析。
*   **单元测试**: 为计算逻辑编写单元测试，提高代码的健壮性。

欢迎对本项目提出建议或贡献代码！

## 许可证

本项目采用 [Attribution-NonCommercial-ShareAlike 4.0 International](https://creativecommons.org/licenses/by-nc-sa/4.0/) 署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议。

---
